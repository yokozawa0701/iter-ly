---
interface Props {
  rating: number;
  class?: string;
}

const { rating, class: className = '' } = Astro.props;

const fullStars = Math.floor(rating);
const hasHalf = rating % 1 >= 0.5;
const emptyStars = 5 - fullStars - (hasHalf ? 1 : 0);
---

<div class:list={['flex items-center gap-0.5 text-yellow-400', className]}>
  {Array.from({ length: fullStars }).map(() => <span>&#9733;</span>)}
  {hasHalf && <span>&#9733;</span>}
  {
    Array.from({ length: emptyStars }).map(() => (
      <span class="text-gray-300">&#9733;</span>
    ))
  }
</div>
